=== CQ CTN Custom ===

Contributors: chrisquee
Requires at least: 5.9
Tested up to: 6.3
Stable tag: 4.3
Requires PHP: 7.0
License: GPLv2 or later
License URI: https://www.gnu.org/licenses/gpl-2.0.html

Custom functionality for Cruise Trade News

== Description ==

Custom functionality for Cruise Trade News

== Changelog ==

= 2.1.32 = FIX Only one issue showing on latest issues block.

= 2.1.31 = UPDATE Allow suppression of digital issues in front-end listings.
           FIX Showing excerpt on latest digital issue block.

= 2.1.30 = UPDATE Use Yoast Primary Category in more blocks plus CSS fixes. 

= 2.1.29 = UPDATE Use Yoast Primary Category if it exists. 

= 2.1.28 = UPDATE add posibility to add adverts to latest posts cards section. 

= 2.1.27 = FIX image on some regions missing causing fatal error. Metabox display on UDG.

= 2.1.26 = UPDATE Capture UTM parameters and add to local storage.

= 2.1.25 = UPDATE Improve ad styling add filter to do bulk WEBP conversion.

= 2.1.24 = UPDATE Add image conversion to WEBP on upload.

= 2.1.23 = UPDATE Add recaptcha to site registration, this also feeds in to the form builder to allow receaptch verification of submissions.

= 2.1.22 = UPDATE Add in Recaptcha field and customizer field for email header image. Fix PHP warning on post timeline shortcode.

= 2.1.21 = UPDATE Remove box shadow from form labels.

= 2.1.20 = FIX error in post timeline shortcode due to not checking to see if item is countable.
           UPDATE styling fixes for post timeline to keep in line with main theme.

= 2.1.19 = Adjusting styling for form elements.

= 2.1.18 = FIX correcting for dist.

= 2.1.17 = UPDATE add in missing classes that allow the form builder to work.

= 2.1.16 = Fix for must include in popular posts not being styled correctly and use better image size for interactive image shortcode.

= 2.1.15 = Add Hotjar JS.

= 2.1.14 = FIX CSS fix for interactive images.

= 2.1.13 = FIX Changes to newsletter JS to accomodate F24 V3 API.

= 2.1.10 = Add Force24 V3 tracking script.

= 2.1.9 = FIX properly check the header images for url as attempting to get an array key on a boolean throws error.
          FIX catch YouTube videos that have www. at the start of the URL, for wrapping.

= 2.1.8 = FIX small tweak to fix button alignment on mobile and margin bottom on grid links

= 2.1.7 = FIX add in missing grid download links CSS.

= 2.1.6 = Update add custom gallery.

= 2.1.5 = FIX CQ Carousel Images.

= 2.1.4 = FIX Layout for single speaker.

= 2.1.3 = FIX Sponsor logos on UDG.

= 2.1.2 = FIX Small fix to newsletter block, adjust gradient overlay.

= 2.1.1 = FIX Small fix to newsletter block, remove coloured background.

= 2.1 = UPDATE add countdown timer to Large CTA block.

= 2.0.23 = Trim excerpt for &nbsp;. 

= 2.0.22 = Trim excerpt. 

= 2.0.21 = More styling fixes. 

= 2.0.20 = UPDATE Apply global colour to dashboard pagination. 

= 2.0.19 = FIX issue with sticky posts being included when not wanted in Featured Articles block. New option to disable sticky posts.
           FIX Featured item on region taxonomy not rendering paragraphs correctly.

= 2.0.18 = Further CSS changes.

= 2.0.17 = Remove fulltext search as it won't work without a database update.

= 2.0.16 = Make sure CSS colours are consistent throughout
           Code refactoring

= 2.0.15 = UPDATE add animated fade to newsletter and subscribe blocks
           FIX wrong colour on print editions archive

= 2.0.14 =

FIX CMS colour change throughout
FIX Agenda block fixes and styling tweaks
UPDATE Secondary font changes

= 2.0.13 =

FIX allow newsletter background image to be pulled from theme settings.

= 2.0.12 =

FIX - Allow button colour on elements to be dictated by the scheme in the CMS.
FIX - Cruise Lines Archive - Disable cruise lines where a logo is not present.
FIX - allow for the different default number of items on the Cruise Lines archive.
FIX - Add correct intro text on Jobs archive.
UPDATE - styling tweaks on the Cruise Lines list cards.

= 2.0.11 =

FiXES Featured News autocomplete, changed item wrapper in featured news to be semantic <article> tag. Changed layout of cruise ships pages, to include horizontal ship facts, so giving more space to the sections below. Fixes to spacing for the headers on the UDG as well as the shortcodes that use the similar classes. Fixed button sizing on UDG shortcodes and digital issues. Newsletter block button sizing.

= 2.0.10 =

FiXES Fixes for destination pages. Primarily, the destination feature block.

= 2.0.9 =

FiXES Change background image on category carousel to be a default image size, set by the theme.
FiXES Change font size for digital issues titles to be smaller.
FiXES Add post non-repeat logic to digital issues block.

= 2.0.8 =

FiXES Fix for UDG sponsor logo display.

= 2.0.7 =

FiXES Fix for UDG sponsor in wrong position when destination title wrapper is not full width. This is on mobile.

= 2.0.6 =

FiXES Fix for UDG sponsor in wrong position when using a shortcode.

= 2.0.5 =

FiXES Correct excerpt not appearing in ajax loaded items.

= 2.0.4 =

FiXES Correct digital issue archive items.

= 2.0.3 =

FiXES fix for AJAX load more on latest news.

= 2.0.2 =

FiXES fix block for latest news.

= 2.0.1 =

UPDATE remove Github access token from codebase and add settings field for it.

= 2.0 =

MAJOR UPDATE Complete redesign swich out font awesome for material icons

= 1.42 =

FIX correct some errors when uploading images to Jobs.

= 1.41 =

UPDATE Add notice handler class.

= 1.40 =

UPDATE Add 10px border-radius to popup log in form

= 1.39 =

UPDATE change marketing list for Fred Olsen Easter competition

= 1.38 =

* UPDATE Add path constants and filters to allow extending with other plugins
* UPDATE remove z-index on dashboard sidebar
* UPDATE add user_id to localized JS parameters if user is logged in.
* UPDATE add filter to localized JS parameters.
* UPDATE add 8 column width to CSS grid.
* FIX force margin 0 on sep_wrap h2.

= 1.37 =

* UPDATE Add Google Analytice V4 tracking code - V3 still in place
* UPDATE Add filter for for frontend dashboard endpoints

= 1.36 =

* UPDATE Change to use Force24 V3 tracking script (INACTIVE CURRENTLY)

= 1.35.4 =

* FIX Alter CSS to allow proper centering of interactive image hotspots.

= 1.35.3 =

* FIX Alter CSS for sidebar_ads to avoid obscuring by header.

= 1.35.2 =

* FIX Apply get_job_functions method to show list of jobtypes in Admin select box, when adding a new job from Admin.

= 1.35.1 =

* UPDATE Change Force24 marketing list ID for Fred Olsen advent play form.

= 1.35 =

* UPDATE Change Force24 marketing list ID for Fred Olsen advent registration form.

= 1.34 =

* UPDATE Github access token.

= 1.33 =

* FIX CSS fixes for large style grid and card alignment on the links grid.

= 1.32 =

* ADDED Facility to use the PDF cover image as the feature image on the links grid.

= 1.31 =

* FIX Incorrect title in grid links element

= 1.30 =

* ADDED New element to display links or downloads in a responsive grid format

= 1.29 =

* CHANGED Further Tweaks to accomodate font change

= 1.28 =

* CHANGED Tweaks to accomodate font change

= 1.27 =

* FIX Avoid CSS overrides for Agenda element

= 1.26 =

* ADDED Coditional read more button to agenda synopis sections

= 1.25 =

* ADDED Blockquote styling

= 1.24 =

* ADDED add navigation dots for speakers carousel

= 1.23 =

* CHANGED use Github for updates

= 1.22 =

* ADDED biography pages for speakers

= 1.21 =

* FIX add iframe max-width on interactive ships pages.

= 1.20 =

* ADDED Matomo user ID from newsletter subscription.
* FIX correctly add post ids to suppression list in the latest news and latest post row shortcodes.

= 1.19 =

* FIX I think i've finally got the latest news to not repeat when there are must show and sticky posts.

= 1.18 =

* FIX to latest news shortcode to account for must show and stick articles and not repaeat.

= 1.17 =

* Revert to 1.15 due to error.

= 1.16 =

* FIX - Changed Latest News shortcode to not repeat articles if any are sticky.

= 1.15 =

* Added autoscroll and autoscroll timing to CQ Carousel
* Added logic to check for missing speaker data in Agenda

= 1.14 =

* Fix issue on VC Agenda where error would be thrown if no synopsis is selected
* Added checks on agenda to see it session title and times were set

= 1.13 =

* Fix issue on VC Agenda where error would be thrown if no speakers are selected
* Add CQ Carousel to CTN. Allows multiple image carousels to be displayed

= 1.12 =

* Fix issue on speakers carousel where a category must be selected